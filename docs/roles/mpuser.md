# Cозданиe учетной записи mpuser на RHEL/CentOS для сканера безопасности MaxPatrol.

??? abstract
    1. [Общее описание](#общее-описание)
    2. [Параметры](#параметры)
    3. [Теги](#теги)
    4. [Примеры](#примеры)

## Общее описание
Роль для создания учетной записи `mpuser` на сервера с **``Red Hat EL 7/8``** и **``CentOS 7/8``**.

!!! attention
    SSH ключ передается как шифрованный секрет. Пароль для каждого сервера генерируется случайным образом.

!!! question
    Если роль запускается через Ansible Engine необходимо заменить секрет.

## Параметры
|Название переменной  | Тип переменной | Значения по умолчанию | Описание                                                                         |
|:--------------------|:--------------:|:---------------------:|:---------------------------------------------------------------------------------|
|mpserver             | array          | undef                 | Переменная задает ACL для подключения через SSH. Можно указать список.           |
|report_email         | string         | undef                 | Адрес электронной почты для уведомления о невозможности создать правила sudoers. |

## Теги
|Тег                  | Описание                                          |
|:--------------------|:--------------------------------------------------|
|mp_user              | Создает учетную запись.                           |

## Примеры

!!! example "inventory/hosts"
    ``` ini
    [example-servers]
    <host_name> ansible_ssh_host=<host_ip> ansible_ssh_user=<user_name_for_connect>

    [example-servers:vars]
    ansible_connection=ssh
    mpserver=['mpuser@<10.10.10.*>','mpuser@<10.10.10.1>']
    ```

!!! help
    "10.10.10.*" - IP сети, "10.10.10.1" - IP хоста.
